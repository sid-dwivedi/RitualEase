    <!DOCTYPE html>
    <html xmlns:th="http://www.thymeleaf.org" lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Register</title>
        <link rel="stylesheet" th:href="@{/css/register.css}" />

        <!-- Add inside <head> -->
        <script>
            function toggleExpertiseField() {
                const role = document.querySelector('[name="role"]').value;
                document.getElementById("expertise-field").style.display = (role === "PANDIT") ? "block" : "none";
            }

            window.addEventListener("DOMContentLoaded", toggleExpertiseField); // Maintain on page reload
        </script>


    </head>
    <body>
    <div class="register-container">
        <h2>Create an Account</h2>

        <div th:if="${error}" style="color: red;">
            <p th:text="${error}"></p>
        </div>
        <div th:if="${message}" style="color: green;">
            <p th:text="${message}"></p>
        </div>

        <form method="post" th:action="@{/register}" th:object="${user}">

        <div class="form-group">
                <label>Username</label>
                <input type="text" th:field="*{userName}" required placeholder="Enter username"/>
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" th:field="*{email}" required placeholder="Enter email"/>
            </div>
            <div class="form-group">
                <label>Password</label>
                <input type="password" th:field="*{password}" required placeholder="Enter password"/>
            </div>
            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" th:field="*{confirm_password}" required placeholder="Re-enter password"/>
            </div>
            <button type="submit" class="btn">Register</button>

            <div class="form-group">
                <label>Role</label>
                <select name="role" th:field="*{role}" onchange="toggleExpertiseField()" required>
                    <option value="">-- Select Role --</option>
                    <option value="USER">User</option>
                    <option value="PANDIT">Pandit</option>
                </select>
            </div>

            <div class="form-group" id="expertise-field" style="display: none;">
                <label>Expertise</label>
                <input type="text" name="expertise" placeholder="Your expertise (for Pandit)" />
            </div>


        </form>

        <p>Already have an account? <a th:href="@{/login}">Login here</a></p>
    </div>
    </body>
    </html>
